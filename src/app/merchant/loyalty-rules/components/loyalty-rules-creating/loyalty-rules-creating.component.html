<div class="wrapper wrapper-content" style="padding: 0;">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins" style="margin-bottom: 35vh">

        <div class="ibox-title">
          <h5>Create promotion</h5>
        </div>

        <div class="ibox-content">
          <div class="row">
            <div class="col-sm-12">
              <form role="form">

                <app-loyalty-rules-creating-adding-rule #selectLoyaltyRule
                  [loyaltyRules]="loyaltyRules"
                  (selectedLoyaltyRuleUpdate)="updateLoyaltyRule($event)">
                </app-loyalty-rules-creating-adding-rule>


                <app-loyalty-rules-creating-adding-pos
                  *ngIf="loyaltyRule && (loyaltyRule.activationPolicy == 'SELECTED_POINTS_OF_SALE')"
                  (posListUpdate)="updatePointsOfSales($event)">
                </app-loyalty-rules-creating-adding-pos>

                <!--
                <div class="form-group">
                  <input type="text" placeholder="Група 1" class="form-control">
                </div>

                <div class="form-group">
                  <input type="text" placeholder="Товары" class="form-control">
                </div>

                <div class="form-group">
                  <input type="text" placeholder="Условия" class="form-control">
                </div>

                <div class="form-group">
                  <input type="text" placeholder="Бонусы" class="form-control">
                </div>
                -->

                <app-loyalty-rules-creating-adding-groups
                  #selectLoyaltyGroups
                  (selectedLoyaltyGroupsUpdate)="updateLoyaltyGroup($event)">
                </app-loyalty-rules-creating-adding-groups>

                <app-loyalty-rules-creating-adding-products
                  *ngIf="loyaltyRule && loyaltyRule.valueType == 'NOT_SPECIFIED'"
                  #selectProducts
                  (selectedProductsUpdate)="updateProducts($event)">
                </app-loyalty-rules-creating-adding-products>

                <app-loyalty-rules-creating-adding-categories
                  *ngIf="loyaltyRule && loyaltyRule.valueType == 'NOT_SPECIFIED'"
                  #selectCategories
                  (selectedCategoriesUpdate)="updateProductCategories($event)">
                </app-loyalty-rules-creating-adding-categories>

                <!--<div class="form-group">-->
                  <!--<app-loyalty-rules-creating-select-->
                    <!--[menuTitle]="productsTitle" [items]="products"-->
                    <!--(selectedItemUpdate)="updateSelectedProducts($event)">-->
                  <!--</app-loyalty-rules-creating-select>-->
                <!--</div>-->


                <app-loyalty-rules-creating-adding-issuer
                  #selectIssuer
                  (selectedIssuerUpdate)="updateIssuer($event)">
                </app-loyalty-rules-creating-adding-issuer>

                <div>
                  <button class="btn btn-sm btn-primary pull-right m-t-n-xs" type="submit" (click)="onCreate()">
                    <strong>Create</strong>
                  </button>
                </div>

              </form>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
